(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{243:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"particlesystem-粒子系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#particlesystem-粒子系统"}},[t._v("#")]),t._v(" ParticleSystem 粒子系统")]),t._v(" "),a("h2",{attrs:{id:"什么是粒子系统？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是粒子系统？"}},[t._v("#")]),t._v(" 什么是粒子系统？")]),t._v(" "),a("p",[t._v("粒子系统是一种图形技术，可以模拟复杂的基于物理的效果。粒子系统是小图像的集合，当一起查看时，它们会形成更复杂的“模糊”对象，例如火，烟，天气或烟火。通过使用诸如初始位置，速度和寿命之类的属性指定单个粒子的行为，可以控制这些复杂的效果。")]),t._v(" "),a("p",[t._v("cesium 中粒子效果相关：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Particle.html?classFilter=Particle",target:"_blank",rel:"noopener noreferrer"}},[t._v("Particle"),a("OutboundLink")],1),t._v(" 粒子系统发射的粒子。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleBurst.html?classFilter=Particle",target:"_blank",rel:"noopener noreferrer"}},[t._v("ParticleBurst"),a("OutboundLink")],1),t._v(" 表示在系统生命周期中给定时间的粒子系统中的粒子爆发。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleEmitter.html?classFilter=Particle",target:"_blank",rel:"noopener noreferrer"}},[t._v("ParticleEmitter"),a("OutboundLink")],1),t._v(" 一个从ParticleSystem初始化Particle的对象。此类型描述一个接口，不能直接实例化。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=Particle",target:"_blank",rel:"noopener noreferrer"}},[t._v("ParticleSystem"),a("OutboundLink")],1),t._v(" 粒子系统管理粒子集合的更新和显示。")])]),t._v(" "),a("p",[t._v("一个基本粒子系统代码：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" particleSystem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" viewer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("primitives"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    image "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../SampleData/smoke.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//图片资源")]),t._v("\n    imageSize "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//图像大小")]),t._v("\n    startScale "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开始缩放比")]),t._v("\n    endScale "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//死亡时缩放比")]),t._v("\n    particleLife "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    speed "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//速度")]),t._v("\n    emitter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CircleEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发射器 圆形粒子发射器")]),t._v("\n    emissionRate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    modelMatrix "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" entity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeModelMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("viewer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Matrix4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    lifetime "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//寿命")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"particle-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#particle-类"}},[t._v("#")]),t._v(" Particle 类")]),t._v(" "),a("p",[t._v("粒子系统发射的粒子。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("构造函数")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Particle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("可选参数"),a("code",[t._v("options")]),t._v(":")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mass")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("1.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子的质量（以千克为单位）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("position")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Cartesian3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cartesian3"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Cartesian3.ZERO")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子在世界坐标中的初始位置。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("velocity")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Cartesian3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cartesian3"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Cartesian3.ZERO")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("世界坐标系中粒子的速度向量。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("life")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Number.MAX_VALUE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("世界坐标系中粒子的速度向量。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("image")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("用于广告牌的URI，HTMLImageElement或HTMLCanvasElement。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("startColor")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Color.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Color"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Color.WHITE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子诞生时的颜色。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("endColor")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Color.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Color"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Color.WHITE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子死亡时的颜色。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("startScale")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("1.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子诞生时的比例。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("endScale")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("1.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("死亡时粒子的比例。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("imageSize")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Cartesian2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cartesian2"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("new Cartesian2(1.0, 1.0)")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("尺寸，宽度乘高度，以像素为单位缩放粒子图像。")])])])]),t._v(" "),a("h2",{attrs:{id:"particleburst-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#particleburst-类"}},[t._v("#")]),t._v(" ParticleBurst 类")]),t._v(" "),a("p",[t._v("表示在系统生命周期中给定时间的粒子系统中的粒子爆发。 控制每秒发射多少粒子，从而改变系统中粒子的密度。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("构造函数")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleBurst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("参数"),a("code",[t._v("options")]),t._v(":")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("time")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("0.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("粒子系统生命周期开始后发生爆发的时间（以秒为单位）。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("minimum")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("0.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("突发中发射的最小粒子数。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("maximum")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("50.0")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("可选")]),t._v("爆发中发射的最大粒子数。")])])])]),t._v(" "),a("p",[t._v("指定一个"),a("code",[t._v("burst")]),t._v("对象数组，以在指定的时间发射粒子爆发（"),a("a",{attrs:{href:"https://sandcastle.cesium.com/?src=Particle%2520System.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方示例"),a("OutboundLink")],1),t._v("）。这会增加粒子系统的多样性或爆炸性。")]),t._v(" "),a("p",[t._v("将此属性添加到您的中"),a("code",[t._v("particleSystem")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bursts "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleBurst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("time "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" minimum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" maximum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleBurst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("time "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" minimum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" maximum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleBurst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("time "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" minimum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" maximum "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("在给定的时间，这些脉冲将在最小和最大粒子之间发射。")]),t._v(" "),a("h2",{attrs:{id:"particleemitter-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#particleemitter-类"}},[t._v("#")]),t._v(" ParticleEmitter 类")]),t._v(" "),a("p",[t._v("一个从"),a("code",[t._v("ParticleSystem")]),t._v("初始化"),a("code",[t._v("Particle")]),t._v("的对象。此类型描述一个接口，不能直接实例化。")]),t._v(" "),a("p",[t._v("当粒子诞生时，其初始位置和速度矢量受的控制"),a("code",[t._v("ParticleEmitter")]),t._v("。发射器每秒会产生由"),a("code",[t._v("emissionRate")]),t._v("参数指定的一定数量的粒子，并根据发射器类型使用随机速度进行初始化。")]),t._v(" "),a("p",[t._v("对应"),a("code",[t._v("ParticleSystem")]),t._v("的"),a("code",[t._v("emitter")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fireSystem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../assets/img/fire.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    emitter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ConeEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toRadians")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//粒子发射器")]),t._v("\n    imageSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    emissionRate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    lifetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    modelMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeModelMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelEntity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JulianDate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//位置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("primitives"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fireSystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("内置的几个发射器对象：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/BoxEmitter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("BoxEmitter"),a("OutboundLink")],1),t._v(" 在箱子内发射粒子的粒子发射器。粒子将随机放置在盒子中，并且具有从盒子中心发出的初始速度。\n在一个盒子内随机采样的位置初始化粒子，并将它们从六个盒子面之一中引出。它接受一个"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Cartesian3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cartesian3"),a("OutboundLink")],1),t._v(" 参数，该参数指定盒子的宽度，高度和深度尺寸。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("dimensions")]),t._v(":"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Cartesian3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cartesian3"),a("OutboundLink")],1),t._v(" 盒子的宽度，高度和深度尺寸。正方体盒子")])]),t._v(" "),a("li",[a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cartesian3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/CircleEmitter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CircleEmitter"),a("OutboundLink")],1),t._v(" 从圆形发射粒子的粒子发射器。粒子将定位在一个圆内，并且具有沿z向量移动的初始速度。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("radius")]),t._v(" :Number 圆的半径，以米为单位。")])]),t._v(" "),a("li",[a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认值 1.0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CircleEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ConeEmitter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ConeEmitter"),a("OutboundLink")],1),t._v(" 在圆锥体内发射粒子的粒子发射器。粒子将位于圆锥体的尖端，并且初始速度朝向底部。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("angle")]),t._v(":Number 圆锥角（以弧度为单位）。")])]),t._v(" "),a("li",[a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认值 30度角对应弧度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ConeEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toRadians")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/SphereEmitter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SphereEmitter"),a("OutboundLink")],1),t._v(" 在球体内发射粒子的粒子发射器。粒子将随机放置在球体内，并且具有从球体中心发出的初始速度。")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("radius")]),t._v(":Number 球体的半径，以米为单位。默认1.0")])]),t._v(" "),a("li",[a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认值1.0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SphereEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"particlesystem-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#particlesystem-类"}},[t._v("#")]),t._v(" ParticleSystem 类")]),t._v(" "),a("p",[t._v("粒子系统管理粒子集合的更新和显示。")]),t._v(" "),a("h3",{attrs:{id:"粒子发射速率"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粒子发射速率"}},[t._v("#")]),t._v(" 粒子发射速率")]),t._v(" "),a("p",[a("code",[t._v("emissionRate")]),t._v(" 属性控制每秒生成多少个粒子，用来调整粒子密度。值越大每秒产生粒子数越多，粒子越密集。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    emissionRate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"粒子-粒子系统的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粒子-粒子系统的生命周期"}},[t._v("#")]),t._v(" 粒子/粒子系统的生命周期")]),t._v(" "),a("p",[t._v("一些参数控制了粒子系统的"),a("strong",[t._v("生命周期")]),t._v("，默认粒子系统一直运行。\n设置"),a("code",[t._v("lifetime")]),t._v("属性控制粒子的持续时间，同时需要设置"),a("code",[t._v("loop")]),t._v("属性为"),a("code",[t._v("false")]),t._v("。"),a("code",[t._v("loop")]),t._v("设为"),a("code",[t._v("true")]),t._v("，一直循环执行下去。比如设定一个粒子系统运行5秒，5秒后粒子效果结束：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    lifetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("为了每个粒子都有一个随机生命周期，我们可以设置 "),a("code",[t._v("minimumParticleLife")]),t._v(" 和 "),a("code",[t._v("maximumParticleLife")]),t._v("。比如下面的代码设置了粒子生命周期在5秒和10秒之间：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    minimumParticleLife"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    maximumParticleLife"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//particleLife: 1.0,")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("设置"),a("code",[t._v("particleLife")]),t._v(" 属性为5.0 表示设置每个粒子的生命周期是5秒。"),a("em",[t._v("如果设置"),a("code",[t._v("particleLife")]),t._v(" ，"),a("code",[t._v("minimumParticleLife")]),t._v(" 和"),a("code",[t._v("maximumParticleLife")]),t._v("将失效。")])]),t._v(" "),a("h3",{attrs:{id:"粒子样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粒子样式"}},[t._v("#")]),t._v(" 粒子样式")]),t._v(" "),a("h4",{attrs:{id:"贴图-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#贴图-image"}},[t._v("#")]),t._v(" 贴图(image):")]),t._v(" "),a("p",[t._v("纹理贴图。为粒子"),a("code",[t._v("Particle")]),t._v(" 换个皮肤。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../assets/img/fire.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"颜色（color）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#颜色（color）"}},[t._v("#")]),t._v(" "),a("strong",[t._v("颜色（"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Color.html?classFilter=color",target:"_blank",rel:"noopener noreferrer"}},[t._v("Color"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("p",[t._v("除了设定image属性来控制粒子的纹理外，还可以设定一个颜色值，这个值可以在粒子的生命周期内变化。")]),t._v(" "),a("p",[t._v("下面代码使火焰粒子产生的时候是淡红色，消亡的时候是半透明黄色。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//color:Cesium.Color.RED,")]),t._v("\n    startColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("YELLOW")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withAlpha")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    endColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withAlpha")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("大小（Size）")])]),t._v(" "),a("p",[t._v("通常粒子大小通过"),a("code",[t._v("imageSize")]),t._v("属性控制。如果想设置一个随机大小，每个粒子的宽度在"),a("code",[t._v("minimumImageSize.x")]),t._v(" 和 "),a("code",[t._v("maximumImageSize.x")]),t._v(" 之间随机，高度在"),a("code",[t._v("minimumImageSize.y")]),t._v(" 和 "),a("code",[t._v("maximumImageSize.y")]),t._v("之间随机，单位为像素。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    minimumImageSize "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    maximumImageSize "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("和颜色一样，粒子大小的倍率在粒子整个生命周期内，会在"),a("code",[t._v("startScale")]),t._v(" 和 "),a("code",[t._v("endScale")]),t._v("属性之间插值。这个会导致你的粒子随着时间变大或者缩小。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    startScale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    endScale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"运行速度-speed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行速度-speed"}},[t._v("#")]),t._v(" "),a("strong",[t._v("运行速度(Speed)")])]),t._v(" "),a("p",[t._v("发射器控制了粒子的位置和方向，速度通过"),a("code",[t._v("speed")]),t._v("参数或者"),a("code",[t._v("minimumSpeed")]),t._v("和"),a("code",[t._v("maximumSpeed")]),t._v(" 参数来控制。")]),t._v(" "),a("p",[t._v("速度越大相同生命周期内运动越远。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//speed: 5.0,")]),t._v("\n    minimumSpeed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    maximumSpeed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("如果设置"),a("code",[t._v("speed")]),t._v("将覆盖"),a("code",[t._v("minimumSpeed")]),t._v("和"),a("code",[t._v("maximumSpeed")]),t._v(" 。")]),t._v(" "),a("h4",{attrs:{id:"位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置"}},[t._v("#")]),t._v(" 位置")]),t._v(" "),a("p",[t._v("粒子系统使用两个转换"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/Matrix4.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("矩阵"),a("OutboundLink")],1),t._v("来定位:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("modelMatrix")]),t._v(" : 把粒子系统从模型坐标系转到世界坐标系。")]),t._v(" "),a("li",[a("code",[t._v("emitterModelMatrix")]),t._v("  : 在粒子系统的局部坐标系内变换粒子发射器。")])]),t._v(" "),a("p",[t._v("我们提供两个属性也是为了方便，当然可以仅仅设置一个，把另一个设置为单位矩阵。为了学习创建这个矩阵，我们尝试把我们的粒子系统相对另一个"),a("code",[t._v("entity")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//粒子发生位置,相对于modelEntity")]),t._v("\n    modelMatrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeModelMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelEntity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JulianDate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("粒子位置除了指定在某个模型上还可以设置什么呢?"),a("code",[t._v("modelMatrix")]),t._v("接收的是个"),a("code",[t._v("Cesium.Matrix4")]),t._v("矩阵（4x4）,只要得到这样的矩阵就行：")]),t._v(" "),a("ul",[a("li",[t._v("直接提供需要的"),a("code",[t._v("Cesium.Matrix4")]),t._v("矩阵")]),t._v(" "),a("li",[t._v("长度16的数组，其实就是上面矩阵的数组形式（一般用于用户传参）")]),t._v(" "),a("li",[t._v("WGS84坐标（一般用于用户传参）")]),t._v(" "),a("li",[a("code",[t._v("Cesium.Cartesian3")]),t._v("笛卡尔坐标-世界坐标")]),t._v(" "),a("li",[a("code",[t._v("Cesium.ConstantPositionProperty")])]),t._v(" "),a("li",[t._v("场景模型（一般用于用户传参）")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 计算坐标矩阵\n * @param {*} position Array(16) or Array(3) or Entity\n * @returns Cesium.Matrix4 4x4矩阵\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transformPosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" time "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JulianDate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Matrix4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//4x4位置矩阵            ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//长度16的数组            ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Matrix4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromArray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//WGS84 坐标")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" wgs84 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeWgs84Matrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wgs84"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//笛卡尔坐标-世界坐标")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computePositionMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ConstantPositionProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模型的position属性")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computePositionPropertyMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//传入模型")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" entity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defined")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeModelMatrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"颗粒质量（mass）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#颗粒质量（mass）"}},[t._v("#")]),t._v(" 颗粒质量（mass）")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:""}},[a("code",[t._v("mass")])]),t._v(" 以千克为单位设置最小和最大颗粒质量。默认1.0kg")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=particle#minimumMass",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("minimumMass")]),a("OutboundLink")],1),t._v(" 设置粒子质量的最小范围（以千克为单位）。粒子的实际质量将被选择为高于此值的随机量。")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=particle#maximumMass",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("maximumMass")]),a("OutboundLink")],1),t._v("  以千克为单位设置最大粒子质量。粒子的实际质量将选择为低于此值的随机量。")])]),t._v(" "),a("h2",{attrs:{id:"方法（methods）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法（methods）"}},[t._v("#")]),t._v(" 方法（Methods）")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=particle#destroy",target:"_blank",rel:"noopener noreferrer"}},[t._v("destroy()"),a("OutboundLink")],1),t._v(" 销毁")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=particle#isDestroyed",target:"_blank",rel:"noopener noreferrer"}},[t._v("isDestroyed()"),a("OutboundLink")],1),t._v(" → Boolean 是否被销毁")])]),t._v(" "),a("h2",{attrs:{id:"事件（events）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件（events）"}},[t._v("#")]),t._v(" 事件（Events）")]),t._v(" "),a("h3",{attrs:{id:"完成事件-（complete-）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完成事件-（complete-）"}},[t._v("#")]),t._v(" 完成事件 （complete ）")]),t._v(" "),a("p",[t._v("当粒子系统达到其生命周期尽头时触发事件。")]),t._v(" "),a("h3",{attrs:{id:"更新回调（updatecallback）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新回调（updatecallback）"}},[t._v("#")]),t._v(" 更新回调（"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html?classFilter=particle#~updateCallback",target:"_blank",rel:"noopener noreferrer"}},[t._v("UpdateCallback"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("p",[t._v("为了提升仿真效果，粒子系统有一个更新函数。这个是个手动更新器，比如对每个粒子模拟重力或者风力的影响，或者除了线性插值之外的颜色插值方式等等。\n每个粒子系统在仿真过程种，都会调用更新回调函数来修改粒子的属性。回调函数传过两个参数，一个是粒子本身，另一个是仿真时间步长。大部分物理效果都会修改速率向量来改变方向或者速度。下面是一个粒子响应重力的示例代码：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gravityScratch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 用于在每个时间步修改粒子属性的函数。这可以包括力的修改，颜色，大小等。\n * @param {Particle} particle 正在更新的粒子。\n * @param {Number} dt 自上次更新以来的时间（以秒为单位）。\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("applyGravity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("particle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算每个粒子的向上向量（相对地心） ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" position "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" particle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("normalize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gravityScratch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiplyByScalar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gravityScratch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" viewModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gravity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gravityScratch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    particle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("velocity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cartesian3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("particle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("velocity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gravityScratch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" particle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("velocity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这个函数计算了一个重力方向，然后使用重力加速度（-9.8米每秒平方）去修改粒子的速度方向。")]),t._v(" "),a("p",[t._v("设置粒子系统的更新函数：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cesium"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ParticleSystem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    updateCallback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" applyGravity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"简单封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单封装"}},[t._v("#")]),t._v(" 简单封装")]),t._v(" "),a("p",[t._v("//TODO")]),t._v(" "),a("h2",{attrs:{id:"额外的天气效应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#额外的天气效应"}},[t._v("#")]),t._v(" 额外的天气效应")]),t._v(" "),a("p",[t._v("使用雾和大气效果来增强可视化效果，并匹配我们试图复制的天气类型。")]),t._v(" "),a("p",[a("code",[t._v("hueshift")]),t._v("沿着颜色光谱改变颜色，"),a("code",[t._v("saturationShift")]),t._v("改变了视觉实际需要的颜色与黑白的对比程度，"),a("code",[t._v("brightnessShift")]),t._v("改变了颜色的生动程度。")]),t._v(" "),a("p",[t._v("雾密度"),a("code",[t._v("density")]),t._v("改变了地球上覆盖物与雾的颜色之间的不透明程度。雾的"),a("code",[t._v("minimumBrightness")]),t._v("用来使雾变暗。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("skyAtmosphere"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hueShift "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("skyAtmosphere"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("saturationShift "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("skyAtmosphere"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("brightnessShift "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.33")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("density "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minimumBrightness "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("查看"),a("a",{attrs:{href:"https://sogrey.github.io/Cesium-start-Example/examples/ParticleSystem/ParticleSystem.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"遇到问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遇到问题"}},[t._v("#")]),t._v(" 遇到问题")]),t._v(" "),a("h3",{attrs:{id:"粒子销毁异常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#粒子销毁异常"}},[t._v("#")]),t._v(" 粒子销毁异常")]),t._v(" "),a("p",[t._v("[Cesium 版本 1.63] 我在场景中添加了粒子"),a("code",[t._v("ParticleSystem")]),t._v("，在执行销毁动作时（"),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/ParticleSystem.html#destroy",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("fireSystem.destroy();")]),a("OutboundLink")],1),t._v("）报如下错误：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Cesium.js:250174 An error occurred "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" rendering.  Rendering has stopped.\nundefined\nDeveloperError: This object was destroyed, i.e., destroy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" was called.\nError\n    at new DeveloperError "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:82:23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at ParticleSystem.throwOnDestroyed "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:29012:23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at PrimitiveCollection.update "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:131007:31"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at updateAndRenderPrimitives "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:237258:31"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at executeCommandsInViewport "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:237092:17"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Scene.updateAndExecuteCommands "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:236900:17"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at render "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:237563:19"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at tryAndCatchError "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:237582:17"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Scene.render "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:237657:17"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at CesiumWidget.render "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("http://127.0.0.1:8080/libs/cesium/Build/CesiumUnminified/Cesium.js:250222:29"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("不想使用自动销毁，因为我也不知这把火会烧多久，只有灭火的信号一到，才能去移除它，起初我是使用 "),a("code",[t._v("fireSystem.show=false;")]),t._v("不让他显示，但这并不是我想要的，想用事件去移除它，信号一到就删除它。")]),t._v(" "),a("p",[t._v("后来找到另外一种方法，因为我是这样添加粒子的：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("_viewer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("primitives"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("particleSystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("想着 "),a("code",[t._v("viewer.scene.primitives => PrimitiveCollection")]),t._v(" PrimitiveCollection 有添加方法应该也有移除的方法，不负众望，还真找到了：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("_viewer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("primitives"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("primitive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" → Boolean\n")])])]),a("p",[t._v("参考文档："),a("a",{attrs:{href:"https://cesium.com/docs/cesiumjs-ref-doc/PrimitiveCollection.html?classFilter=PrimitiveCollection#remove",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cesium.com/docs/cesiumjs-ref-doc/PrimitiveCollection.html?classFilter=PrimitiveCollection#remove"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("既然销毁不行就做移除操作。实测有效，对象被移除了。")]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://cesium.com/docs/tutorials/particle-systems/",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方]Introduction to Particle Systems"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cesium.com/docs/tutorials/particle-systems-more-effects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方]Advanced Particle System Effects"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://sandcastle.cesium.com/?src=Particle%2520System.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方示例]Particle System 小车尾气"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://sandcastle.cesium.com/?src=Particle%2520System%2520Fireworks.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方示例]Particle System Fireworks 烟花"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://sandcastle.cesium.com/?src=Particle%20System%20Weather.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方示例]天气"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://sandcastle.cesium.com/?src=Particle%20System%20Tails.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("[官方示例]拖尾"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/cb18e2c8ba72",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cesium官方教程9--粒子系统"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.freesion.com/article/641351236/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CESIUM实时目标跟踪最新特效教程系列2—粒子系统（实时发射波束跟踪目标）"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.freesion.com/article/2034167925/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CESIUM粒子特效笔记"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.freesion.com/article/497036995/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CESIUM中级教程9 - ADVANCED PARTICLE SYSTEM EFFECTS 高级粒子系统效应"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);